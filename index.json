[{"categories":["技术"],"content":"  更新：https://github.com/uselibrary/Aria2Drive 在 ECS 使用 aria2 下载与没有公网 IP 的 PC 相比有一定优势，但是 Lucas 所用的阿里云的小水管下载有 100 MB ，上传只有 1 MB，取回下好的东西还要漫长的等待。本文即为解决这一问题而写。 需要： OneDrive 账号 本文的系统为 Ubuntu 18.04.4 。 参考了下面的链接： PyOne使用文档–ShowDoc 一个好用的OneDrive网盘上传工具，支持文件和文件夹上传 使用Aira2下载文件后自动上传到Google Drive网盘   安装 aria2 推荐在宝塔下进行操作。➡前往宝塔 ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:0:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术"],"content":"1. 下载解压 aria2 请检查链接是否为最新版，GitHub项目地址 wget -N --no-check-certificate https://github.com/aria2/aria2/releases/download/release-1.35.0/aria2-1.35.0.tar.gz tar zxvf aria2-1.35.0.tar.gz rm -rf aria2-1.35.0.tar.gz cd aria2-1.35.0 make install cd .. rm -rf aria2-1.35.0 上面做的事情：下载➡解压➡删除压缩包➡进入解压的文件夹➡运行安装➡回到上一层文件夹➡删除解压的文件夹。 阿里云的 ECS 连接 GitHub 很慢，推荐下载到电脑上，利用宝塔手动上传，到哪个文件夹不重要，最终都会删掉。 ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:1:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术"],"content":"2. 检查是否安装成功 command -v aria2c 如果显示 /usr/bin/aria2c 说明安装成功。 ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:2:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术"],"content":"3. 下载 aria2 配置 mkdir \"/root/.aria2\" \u0026\u0026 mkdir /root/Download wget -N --no-check-certificate https://lucasdrive.imfast.io/Program/aria2/dht.dat -P '/root/.aria2/' wget -N --no-check-certificate https://lucasdrive.imfast.io/Program/aria2/aria2.conf -P '/root/.aria2/' wget -N --no-check-certificate https://lucasdrive.imfast.io/Program/aria2/trackers-list-aria2.sh -P '/root/.aria2/' touch /root/.aria2/aria2.session chmod +x /root/.aria2/trackers-list-aria2.sh chmod 777 /root/.aria2/aria2.session 上面的链接可能会失效，届时配置文件也可按照其他教程设置。 ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:3:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术"],"content":"4. 配置 aria2RPC 密钥 修改文件 /root/.aria2/aria2.conf ，找到 rpc-secret ，然后给 rpc-secret 设置密码，作为密钥。 ✅：注意要在宝塔面板中将 aria2 监听的端口放行，以及（如果有）安全组规则放行，否则 aria2 的速度会受到很大影响。    设置开机启动 创建 /etc/systemd/system/aria2.service ，不习惯 vim 可以直接在宝塔中新建文件，内容为： [Unit] Description=Aria2 server After=network.target Wants=network.target [Service] Type=simple PIDFile=/var/run/aria2c.pid ExecStart=/usr/bin/aria2c --conf-path=/root/.aria2/aria2.conf RestartPreventExitStatus=23 Restart=always User=root [Install] WantedBy=multi-user.target 然后 esc 、 :wq 退出保存，执行命令： systemctl enable aria2 systemctl start aria2 此时 aria2 已经启动。    OneDrive上传控件 点击右侧 URL 登录 OneDrive 并授权，授权地址→【国际版、个人版(家庭版)】、【世纪互联】。 授权后会获取一个 localhost 开头打不开的链接，这里复制好整个链接地址，包括 localhost 。 ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:4:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术"],"content":"1. 安装OneDriveUploader #64位系统下载 wget https://raw.githubusercontent.com/MoeClub/OneList/master/OneDriveUploader/amd64/linux/OneDriveUploader -P /usr/local/bin/ #32位系统下载 wget https://raw.githubusercontent.com/MoeClub/OneList/master/OneDriveUploader/i386/linux/OneDriveUploader -P /usr/local/bin/ #arm架构下载 wget https://raw.githubusercontent.com/MoeClub/OneList/master/OneDriveUploader/arm/linux/OneDriveUploader -P /usr/local/bin/ #给予权限 chmod +x /usr/local/bin/OneDriveUploader ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:5:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术"],"content":"2. 初始化配置 #国际版，将url换成你上面复制的授权地址，包括http://loaclhost。 OneDriveUploader -a \"url\" #个人版(家庭版)，将url换成你上面复制的授权地址，包括http://loaclhost。 OneDriveUploader -ms -a \"url\" #中国版(世纪互联)，将url换成你上面复制的授权地址，包括http://loaclhost。 OneDriveUploader -cn -a \"url\" 如果提示 Init config file: /root/auth.json 类似信息，则初始化成功。 ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:6:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术"],"content":"3. 使用命令 Usage of OneDriveUploader: -a string // 初始化授权 Setup and Init auth.json. -b string // 自定义上传分块大小, 可以提高网络吞吐量, 受限于磁盘性能和网络速度. Set block size. [Unit: M; 5\u003c=b\u003c=60;] (default \"10\") -c string // 配置文件路径 Config file. (default \"auth.json\") -n string // 上传单个文件时,在网盘中重命名 Rename file on upload to remote. -r string // 上传到网盘中的某个目录, 默认: 根目录 Upload to reomte path. -s string // *必要参数, 要上传的文件或文件夹 Upload item. -t string // 线程数, 同时上传文件的个数. 默认: 2 Set thread num. (default \"2\") -f // 开关(推荐) // 加上 -f 参数，强制读取 auth.json 中的块大小配置和多线程配置. // 不加 -f 参数, 每次覆盖保存当前使用参数到 auth.json 配置文件中. Force Read config form config file. [BlockSize, ThreadNum] -skip // 开关 // 跳过上传网盘中已存在的同名文件. (默认不跳过) Skip exist file on remote. -cn // 开关 // 授权中国版(世纪互联), 需要此参数. OneDrive by 21Vianet. -ms // 开关 // 授权个人版(家庭版), 需要此参数. OneDrive by Microsoft. ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:7:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术"],"content":"4. 命令示例 #将当前目录下的mm00.jpg文件上传到OneDrive网盘根目录 OneDriveUploader -c /path/to/file/auth.json -s \"mm00.jpg\" #将当前目录下的mm00.jpg文件上传到OneDrive网盘根目录，并改名为mm01.jpg OneDriveUploader -c /path/to/file/auth.json -s \"mm00.jpg\" -n \"mm01.jpg\" #将当前目录下的Download文件夹上传到OneDrive网盘根目录 OneDriveUploader -c /path/to/file/auth.json -s \"Download\" #将当前目录下的Download文件夹上传到OneDrive网盘Test目录中 OneDriveUploader -c /path/to/file/auth.json -s \"Download\" -r \"Test\" #将同目录下的Download文件夹上传到OneDriv网盘Test目录中，使用10线程 OneDriveUploader -c /path/to/file/auth.json -t 10 -s \"Download\" -r \"Test\" #将同目录下的Download文件夹上传到OneDrive网盘Test目录中，使用15线程，并设置分块大小为20M OneDriveUploader -c /path/to/file/auth.json -t 15 -b 20 -s \"Download\" -r \"Test\"    aria2 自动上传 ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:8:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术"],"content":"1. aria2 自动上传脚本 上传脚本代码如下： #!/bin/bash GID=\"$1\"; FileNum=\"$2\"; File=\"$3\"; MaxSize=\"15728640\"; Thread=\"3\"; #默认3线程，自行修改，服务器配置不好的话，不建议太多 Block=\"5\"; #默认分块5m，自行修改 RemoteDIR=\"\"; #上传到Onedrive的路径，默认为根目录，如果要上传到MOERATS目录，\"\"里面请填成MOERATS LocalDIR=\"/www/download/\"; #Aria2下载目录，记得最后面加上/ Uploader=\"/usr/local/bin/OneDriveUploader\"; #上传的程序完整路径，默认为本文安装的目录 Config=\"/root/auth.json\"; #初始化生成的配置auth.json绝对路径，参考第3步骤生成的路径 if [[ -z $(echo \"$FileNum\" |grep -o '[0-9]*' |head -n1) ]]; then FileNum='0'; fi if [[ \"$FileNum\" -le '0' ]]; then exit 0; fi if [[ \"$#\" != '3' ]]; then exit 0; fi function LoadFile(){ if [[ ! -e \"${Uploader}\" ]]; then return; fi IFS_BAK=$IFS IFS=$'\\n' tmpFile=\"$(echo \"${File/#$LocalDIR}\" |cut -f1 -d'/')\" FileLoad=\"${LocalDIR}${tmpFile}\" if [[ ! -e \"${FileLoad}\" ]]; then return; fi ItemSize=$(du -s \"${FileLoad}\" |cut -f1 |grep -o '[0-9]*' |head -n1) if [[ -z \"$ItemSize\" ]]; then return; fi if [[ \"$ItemSize\" -ge \"$MaxSize\" ]]; then echo -ne \"\\033[33m${FileLoad}\\033[0mtoo large to spik.\\n\"; return; fi ${Uploader} -c \"${Config}\" -t \"${Thread}\" -b \"${Block}\" -s \"${FileLoad}\" -r \"${RemoteDIR}\" -skip if [[ $? == '0' ]]; then rm -rf \"${FileLoad}\"; fi IFS=$IFS_BAK } LoadFile; 编辑好上传脚本后，可以检测下脚本编码是否正确，比如我脚本路径为 /root/upload.sh ，使用命令： bash /root/upload.sh 如果无任何输出，则正确，反之输出类似 $'r': command not found 错误，则需要转换下编码格式，具体步骤如下。 先安装 dos2unix ： #CentOS系统 yum install dos2unix -y #Debian/Ubuntu系统 apt install dos2unix -y 再转换编码： #后面为脚本路径 dos2unix /root/upload.sh ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:9:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术"],"content":"2. 下载完成后执行 设置下载完成自动上传，传输后删除服务器上的文件： #授权 chmod +x /root/upload.sh 然后到 aria2 配置文件中加上一行： on-download-complete=/root/upload.sh 即可，后面为脚本的路径。 最后重启 aria2 生效。 systemctl restart aria2    至此，当 aria2 中的下载任务完成后会自动将文件上传到 OneDrive ，之后可以利用 IDM 下载到本地，实现吃灰小鸡再就业。 PS：几个指令： 使用 clear 命令或 reset 命令清空当前屏幕，or 清空屏幕快捷键： ctrl + l 清空当前输入快捷键： ctrl + u 放弃当前输入快捷键： ctrl + z   ","date":"2020-05-14","objectID":"/2020-05-14-install-aria2/:10:0","tags":["aria2","OneDrive"],"title":"linux 下安装 aria2 及自动上传到 OneDrive","uri":"/2020-05-14-install-aria2/"},{"categories":["技术","入门"],"content":"  最近遇到了如何在电脑上的不同位置连接不同的远程仓库的问题，很多中文的 git 教程并没有涉及到这个问题，故将查阅到的办法整理为此文。   Git初始化 ","date":"2020-05-05","objectID":"/2020-05-05-git-get-started/:0:0","tags":["git"],"title":"Git 入门及连接多个远程仓库","uri":"/2020-05-05-git-get-started/"},{"categories":["技术","入门"],"content":"1. 创建本地仓库及配置Git账号 git init #在当前位置初始化git仓库 git config user.name \"A\" #设置用户名为A git config user.email \"A@example.com\" #设置邮箱为A@example.com 可以使用 git config --global 命令设置全局的账号，则除非另外声明均使用此账号。 ","date":"2020-05-05","objectID":"/2020-05-05-git-get-started/:1:0","tags":["git"],"title":"Git 入门及连接多个远程仓库","uri":"/2020-05-05-git-get-started/"},{"categories":["技术","入门"],"content":"2. 生成SSH密钥对 ssh-keygen -t rsa -C \"A@example.com\" 然后选择密钥对存储位置。 Generating public/private rsa key pair. Enter file in which to save the key (/c/Users/yourname/.ssh/id_rsa): [Press enter] 设置密码（optional）。 Enter passphrase (empty for no passphrase): Enter same passphrase again:    与GitHub连接 这一部分并非本文的重点，请自行查阅。可参考下面的链接： 添加远程库 - 廖雪峰的官方网站    连接多个仓库 GitHub 不允许一个密钥对应用于多个仓库。所以如果我们有两个本地仓库 A 和 B 需要同步，必须生成两个密钥对，并且分别把公钥部署到 GitHub 。 ","date":"2020-05-05","objectID":"/2020-05-05-git-get-started/:2:0","tags":["git"],"title":"Git 入门及连接多个远程仓库","uri":"/2020-05-05-git-get-started/"},{"categories":["技术","入门"],"content":"1. 用名称区别不同仓库 在 ~/.ssh 目录下新建 config 文件。 host A #自定义别名，用于之后配置地址 Hostname github.com #要连接的服务器 User Lucas #用户名 IdentityFile ~/.ssh/id_rsa #密钥文件的地址，注意是私钥 host B #自定义别名，用于之后配置地址 Hostname github.com User lucas IdentityFile ~/.ssh/B_id_rsa 通过上面的设置，对不同的本地仓库我们可以使用不同的 host 的别名来指定使用哪一对密钥，类似于 CNAME 。 ","date":"2020-05-05","objectID":"/2020-05-05-git-get-started/:3:0","tags":["git"],"title":"Git 入门及连接多个远程仓库","uri":"/2020-05-05-git-get-started/"},{"categories":["技术","入门"],"content":"2. 修改本地仓库的设置 修改本地仓库 A 的 .git 目录下， config 文件的内容： [core] repositoryformatversion = 0 filemode = true bare = false logallrefupdates = true ignorecase = true precomposeunicode = true [user] email = A@example.com name = Lucas [remote \"origin\"] url = git@A:Yourname/example.git #使用host的别名A fetch = +refs/heads/*:refs/remotes/origin/* [branch \"master\"] remote = origin merge = refs/heads/master ","date":"2020-05-05","objectID":"/2020-05-05-git-get-started/:4:0","tags":["git"],"title":"Git 入门及连接多个远程仓库","uri":"/2020-05-05-git-get-started/"},{"categories":["技术","入门"],"content":"3. 与远程仓库关联 git remote add origin git@server-name:path/repo-name.git 初始化的仓库在推送之前先拉取远程仓库的文件否则会可能会出错。 git pull origin master 添加当前目录下的文件。 git add \u003cfilename\u003e git add * #使用缺省符则将当前目录下所有文件添加到git git commit -m \"first commit\" #将修改在本地保存并且注释“first commit” 推送到远程仓库。 git push -u origin master    本文简单总结了 Git 的基本用法，更多的操作还需要在实践中解锁。   ","date":"2020-05-05","objectID":"/2020-05-05-git-get-started/:5:0","tags":["git"],"title":"Git 入门及连接多个远程仓库","uri":"/2020-05-05-git-get-started/"},{"categories":["文化","文学"],"content":"   托妮·莫里森用“掌中之鸟”的隐喻讲述了语言的力量、其被剥夺的严重后果、以及重建的可能。虽然在这里托妮·莫里森主要探讨的是黑人文化、语言在白人文化殖民下的困境与出路，但其中种种用来观照我们如今的中文互联网环境出奇适用。 一篇很好的文章，英文版来自 www.nobelprize.org 。有耐心的读者可以配合翻译食用，权当练习阅读也不错。最下面有中文版，仅供参考。   Toni Morrison Nobel Lecture December 7, 1993 “Once upon a time there was an old woman. Blind but wise.” Or was it an old man? A guru, perhaps. Or a griot soothing restless children. I have heard this story, or one exactly like it, in the lore of several cultures. “Once upon a time there was an old woman. Blind. Wise.” In the version I know the woman is the daughter of slaves, black, American, and lives alone in a small house outside of town. Her reputation for wisdom is without peer and without question. Among her people she is both the law and its transgression. The honor she is paid and the awe in which she is held reach beyond her neighborhood to places far away; to the city where the intelligence of rural prophets is the source of much amusement. One day the woman is visited by some young people who seem to be bent on disproving her clairvoyance and showing her up for the fraud they believe she is. Their plan is simple: they enter her house and ask the one question the answer to which rides solely on her difference from them, a difference they regard as a profound disability: her blindness. They stand before her, and one of them says, “Old woman, I hold in my hand a bird. Tell me whether it is living or dead.” She does not answer, and the question is repeated. “Is the bird I am holding living or dead?” Still she doesn’t answer. She is blind and cannot see her visitors, let alone what is in their hands. She does not know their color, gender or homeland. She only knows their motive. The old woman’s silence is so long, the young people have trouble holding their laughter. Finally she speaks and her voice is soft but stern. “I don’t know”, she says. “I don’t know whether the bird you are holding is dead or alive, but what I do know is that it is in your hands. It is in your hands.” Her answer can be taken to mean: if it is dead, you have either found it that way or you have killed it. If it is alive, you can still kill it. Whether it is to stay alive, it is your decision. Whatever the case, it is your responsibility. For parading their power and her helplessness, the young visitors are reprimanded, told they are responsible not only for the act of mockery but also for the small bundle of life sacrificed to achieve its aims. The blind woman shifts attention away from assertions of power to the instrument through which that power is exercised. Speculation on what (other than its own frail body) that bird-in-the-hand might signify has always been attractive to me, but especially so now thinking, as I have been, about the work I do that has brought me to this company. So I choose to read the bird as language and the woman as a practiced writer. She is worried about how the language she dreams in, given to her at birth, is handled, put into service, even withheld from her for certain nefarious purposes. Being a writer she thinks of language partly as a system, partly as a living thing over which one has control, but mostly as agency – as an act with consequences. So the question the children put to her: “Is it living or dead?” is not unreal because she thinks of language as susceptible to death, erasure; certainly imperiled and salvageable only by an effort of the will. She believes that if the bird in the hands of her visitors is dead the custodians are responsible for the corpse. For her a dead language is not only one no longer spoken or written, it is unyielding language content to admire its own paralysis. Like statist language, censored and censoring. Ruthless in its policing duties, it has no desire or purpose other than maintaining the free range of its own narcotic narcissism, its own exclusivity and dominance. However moribund, it is not without effect for it actively thwarts the intellect, stalls conscience, suppresses human potential. U","date":"2020-04-18","objectID":"/2020-04-18-bird-in-the-hand/:0:0","tags":["reading"],"title":"被剥夺的语言和语言的剥夺——托妮·莫里森","uri":"/2020-04-18-bird-in-the-hand/"}]